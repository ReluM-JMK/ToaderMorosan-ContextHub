(this.webpackJsonpcontexthub=this.webpackJsonpcontexthub||[]).push([[0],{93:function(e,t,n){"use strict";n.r(t);var a,c,r,i,s=n(2),j=n.n(s),l=n(65),b=n.n(l),d=n(23),o=n(14),u=n(104),O=n(105),h=n(106),m=n(107),x=n(108),g=n(4),p=function(){return Object(g.jsx)(u.a,{color:"dark",dark:!0,children:Object(g.jsxs)(O.a,{children:[Object(g.jsx)(h.a,{href:"/",children:"Brands"}),Object(g.jsx)(m.a,{children:Object(g.jsx)(x.a,{children:Object(g.jsx)(d.b,{className:"btn btn-primary",to:"/addBrand",children:" Add Brand"})})})]})})},f=n(21),w=n(110),v=n(111),y=n(112),B=n(118),S=n(32),C=n(31),$=Object(C.a)(a||(a=Object(S.a)(["\nquery{\n  queryBrand{\n    name,\n    id,\n    website_url\n  }\n}\n"]))),_=n(120),N=Object(C.a)(c||(c=Object(S.a)(["\nmutation addBrand(\n    $name: String!\n    $website_url: String!\n) {\n  addBrand(input: {\n    name: $name,\n    website_url: $website_url,\n  }){\n    id : numUids\n  }\n}\n"]))),k=Object(C.a)(r||(r=Object(S.a)(["\nmutation updateBrand(\n    $name: String!\n    $website_url: String!\n    $id: [ID!]\n) {\n  updateBrand(input: {\n    filter: {\n      id: $id\n    },\n    set: {\n      name: $name,\n      website_url: $website_url,\n    }\n  }){\n    id : numUids\n  }\n}\n"]))),E=Object(C.a)(i||(i=Object(S.a)(["\nmutation deleteBrand(\n    $id: [ID!]\n) {\n  deleteBrand(filter: {\n    id: $id\n  }){\n    id : numUids\n  }\n}\n"]))),q=function(){var e=Object(B.a)($),t=e.error,n=(e.loading,e.data),a=Object(_.a)(E),c=Object(f.a)(a,1)[0],r=Object(s.useState)([]),i=Object(f.a)(r,2),j=i[0],l=i[1],b=Object(s.useState)(""),o=Object(f.a)(b,2),u=o[0],O=o[1];Object(s.useEffect)((function(){n&&(console.log(n.queryBrand),l(n.queryBrand))}),[n]);return t&&console.log(t),Object(g.jsx)(w.a,{className:"mt-4",children:j.map((function(e){return Object(g.jsxs)(v.a,{className:"d-flex justify-content-between",children:[Object(g.jsx)("img",{src:"https://www.google.com/s2/favicons?domain_url="+e.website_url,alt:""}),Object(g.jsx)("strong",{children:e.name}),Object(g.jsx)("strong",{children:e.website_url}),Object(g.jsxs)("div",{className:"ml-auto",children:[Object(g.jsx)(d.b,{to:"/edit/".concat(e.id),className:"btn btn-warning ml-2",children:"Edit"}),Object(g.jsx)(y.a,{color:"danger",onClick:function(){O(e.id),c({variables:{id:u}})},children:"Delete"})]})]})}))})},U=function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(p,{}),Object(g.jsx)(q,{})]})},D=n(113),F=n(114),I=n(115),W=n(116),A=function(){var e=Object(s.useState)(""),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(""),r=Object(f.a)(c,2),i=r[0],j=r[1],l=Object(_.a)(N),b=Object(f.a)(l,2),o=b[0],u=b[1].error;return u&&console.log(u),Object(g.jsxs)(D.a,{children:[Object(g.jsxs)(F.a,{children:[Object(g.jsx)(I.a,{children:" Name"}),Object(g.jsx)(W.a,{type:"text",placeholder:"Enter Name",onChange:function(e){a(e.target.value)}}),Object(g.jsx)(W.a,{type:"text",placeholder:"Enter Website Url",onChange:function(e){j(e.target.value)}})]}),Object(g.jsx)(y.a,{type:"submit",onClick:function(){o({variables:{name:n,website_url:i}})},children:"Submit"}),Object(g.jsx)(d.b,{to:"/",className:"btn btn-danger ml-2",children:"Cancel"})]})},J=function(e){var t=e.match.params.id,n=Object(s.useState)(""),a=Object(f.a)(n,2),c=a[0],r=a[1],i=Object(s.useState)(""),j=Object(f.a)(i,2),l=j[0],b=j[1],o=Object(_.a)(k),u=Object(f.a)(o,2),O=u[0],h=u[1].error;return h&&console.log(h),Object(g.jsxs)(D.a,{children:[Object(g.jsxs)(F.a,{children:[Object(g.jsx)(I.a,{children:" Name"}),Object(g.jsx)(W.a,{type:"text",placeholder:"Enter Name",onChange:function(e){r(e.target.value)}}),Object(g.jsx)(W.a,{type:"text",placeholder:"Enter Website Url",onChange:function(e){b(e.target.value)}})]}),Object(g.jsx)(y.a,{type:"submit",onClick:function(){O({variables:{name:c,website_url:l,id:t}})},children:"Update"}),Object(g.jsx)(d.b,{to:"/",className:"btn btn-danger ml-2",children:"Cancel"})]})},L=(n(91),n(25)),P=n(117),T=n(50),G=n(94),M=n(92),z=n(69),H=Object(z.a)((function(e){var t=e.graphqlErrors;e.networkError;t&&t.map((function(e){var t=e.message;e.location,e.path;alert("Graphql error ".concat(t))}))})),K=Object(L.from)([H,new P.a({uri:"https://lively-darkness.eu-central-1.aws.cloud.dgraph.io/graphql"})]),Q=new T.a({cache:new G.a,link:K});var R=function(){return Object(g.jsx)(M.a,{client:Q,children:Object(g.jsx)("div",{style:{maxWidth:"30rem",margin:"4rem auto"},children:Object(g.jsx)(d.a,{children:Object(g.jsxs)(o.c,{children:[Object(g.jsx)(o.a,{exact:!0,path:"/",component:U}),Object(g.jsx)(o.a,{path:"/AddBrand",component:A}),Object(g.jsx)(o.a,{path:"/edit/:id",component:J})]})})})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,121)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};b.a.render(Object(g.jsx)(j.a.StrictMode,{children:Object(g.jsx)(R,{})}),document.getElementById("root")),V()}},[[93,1,2]]]);
//# sourceMappingURL=main.0828ba94.chunk.js.map